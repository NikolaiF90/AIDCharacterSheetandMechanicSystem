# Changelog

## v1.2.0 â€” Phase 1.5 Complete
*February 2026*

### Added
- `parseCharacterCard(character)` â€” position-based SC parser, label-agnostic regex
- `safeInt()` â€” value validation with fallback and error notification
- `/csms sync [name]` â€” manual sync story card edits to state
- Auto-sync on every context hook run
- `injectActiveCharacters()` â€” compact character data injected into `frontMemory`
- `getActivePlayer()` â€” detects active player from input text in multiplayer
- `syncMultiplayerCharacters()` â€” removes sheets for players who left or renamed
- `isMultiplayerCharacter` flag on character objects â€” protects NPCs from multiplayer sync
- Multiplayer auto-create â€” sheets created automatically when players join
- `STAT_MIN`, `STAT_MAX` â€” stat range validation in `CSMS_CONFIG`
- `LOOKBACK_ACTIONS` â€” history scan depth for character detection in `CSMS_CONFIG`
- `INJECTED_SHEET_MAX` â€” max sheets injected per action in `CSMS_CONFIG`
- `BANNED_NAMES` â€” invalid name protection in `CSMS_CONFIG`
- `canCastSpell: false` flag â€” added to `initCharacter()` for future spell system
- SC keyword placeholder `csms_cs_${name}` â€” AC-safe card trigger keys

### Fixed
- `handleReset()` now uses `storedName` for card removal â€” fixes case mismatch bug
- `handleCleanup()` `length` typo fixed

---

## v1.0.0 â€” Phase 1 Complete
*February 2026*

### Added
- `CSMS()` function with input/context/output hooks
- `/csms create [name]` â€” character creation
- `/csms stats [name]` â€” character sheet refresh
- `/csms reset [name]` â€” remove specific character
- `/csms reset` â€” remove all characters
- `/csms cleanup` â€” remove orphaned story cards
- `state.characters[]` â€” multi-character persistent storage
- `initCharacter()` â€” D&D 5e stat foundation
- `findCharacter()` â€” case-insensitive name search
- `getPlayer()` â€” quick player character access
- `updateCharacterCard(character)` â€” dynamic story card sync
- `removeCharacterCard(name)` â€” story card removal
- Individual story cards per character (`ðŸ“‹ Name`)
- Regex-based command detection â€” works in do/say/normal input
- Punctuation stripping from command parameters
- `storedName` fix â€” case-safe card removal
- `CSMS_CONFIG` â€” world maker configuration block

### Added (NotifyThem v1.0.0)
- `initNotify()` â€” debug mode initialization
- `notify(sMessage, dMessage)` â€” message storage + debug logging
- `updateNotification()` â€” flush messages to output as `[bracketed]` block
- `resetNotification()` â€” clear message queue
- `NOTIFY_CONFIG` â€” header and debug mode configuration
- Timestamped debug logs via `log()`
